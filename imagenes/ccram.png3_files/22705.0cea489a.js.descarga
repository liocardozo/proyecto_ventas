(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[22705],{68571:(e,a,o)=>{"use strict";var t=o(16270),r=o(12897),n=o(91847),c=o(96540);o(5556);var i=o(91496),s=o(72831);o(23792),o(26910),o(62953);var m=o(8116);o(27495),o(42762);var l=o(89557);o(74423);var d=o(74848),u=o(13018),p=o(35421),b=o(43461),_=o(46942),v=o(79204);var w={MLA:{url:{mainDomain:"mercadolibre.com.ar",baseDomain:"//www.mercadolibre.com.ar"}},MPE:{url:{mainDomain:"mercadolibre.com.pe",baseDomain:"//www.mercadolibre.com.pe"}},MPT:{url:{mainDomain:"mercadolivre.pt",baseDomain:"//www.mercadolivre.pt"}},MRD:{url:{mainDomain:"mercadolibre.com.do",baseDomain:"//www.mercadolibre.com.do"}},MPA:{url:{mainDomain:"mercadolibre.com.pa",baseDomain:"//www.mercadolibre.com.pa"}},MEC:{url:{mainDomain:"mercadolibre.com.ec",baseDomain:"//www.mercadolibre.com.ec"}},MCR:{url:{mainDomain:"mercadolibre.co.cr",baseDomain:"//www.mercadolibre.co.cr"}},MLU:{url:{mainDomain:"mercadolibre.com.uy",baseDomain:"//www.mercadolibre.com.uy"}},MLM:{url:{mainDomain:"mercadolibre.com.mx",baseDomain:"//www.mercadolibre.com.mx"}},MLC:{url:{mainDomain:"mercadolibre.cl",baseDomain:"//www.mercadolibre.cl"}},MCO:{url:{mainDomain:"mercadolibre.com.co",baseDomain:"//www.mercadolibre.com.co"}},MLV:{url:{mainDomain:"mercadolibre.com.ve",baseDomain:"//www.mercadolibre.com.ve"}},MLB:{url:{mainDomain:"mercadolivre.com.br",baseDomain:"//www.mercadolivre.com.br"}},MBO:{url:{mainDomain:"mercadolibre.com.bo",baseDomain:"//www.mercadolibre.com.bo"}},MPY:{url:{mainDomain:"mercadolibre.com.py",baseDomain:"//www.mercadolibre.com.py"}},MGT:{url:{mainDomain:"mercadolibre.com.gt",baseDomain:"//www.mercadolibre.com.gt"}},MHN:{url:{mainDomain:"mercadolibre.com.hn",baseDomain:"//www.mercadolibre.com.hn"}},MNI:{url:{mainDomain:"mercadolibre.com.ni",baseDomain:"//www.mercadolibre.com.ni"}},MSV:{url:{mainDomain:"mercadolibre.com.sv",baseDomain:"//www.mercadolibre.com.sv"}},MCU:{url:{mainDomain:"mercadolibre.com.cu",baseDomain:"//www.mercadolibre.com.cu"}}};const f=l({timeout:3e4,baseURL:"https://www.mercadolibre.com.ar",withCredentials:!0,sendCSRFToken:!1}),h={"x-card-type":"web","x-recosplugin-version":"###VERSION###"};var D=class{static getHostname(e){return"https:".concat(w[e.site_id].url.baseDomain)}static fetchRecommendations(e,a){const o=r(r({},h),a);return o["x-image-webp"]=!0,f.get("/product-fe-recommendations/recommendations",{params:e,headers:o,baseURL:this.getHostname(e)}).then((e=>e.data)).catch((()=>{}))}static getLab(){let e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(a.env)e=a.env;else if(document&&document.cookie){const a=document.cookie.split(";").find((e=>"meliLab"===e.split("=")[0].trim()));if(a){const o=a.split("=")[1].trim();"recosreact"===o?e="test0":"recos"===o?e="test":"release"===o?e="testrelease":o.match(/recos-([0-9]*)/)&&(e="test".concat(o.split("-")[1]))}}}catch(e){console&&console.info("Recommendations - Cannot get lab info.",e)}return e}};var C=e=>{let{props:a,componentRef:o,fetchDelay:t=0}=e;const n=c.useRef(!1),{isOnViewport:i,setIsOnViewport:s,observeElement:l}=m.useIntersectionObserver({externalRef:o,once:!0,startOff:!0});c.useEffect((()=>{n.current=i}),[i]);const[d,u]=c.useState([]);c.useEffect((()=>{a.apiResponse?u(a.apiResponse.recommendations):(e=>{let{clients:c}=e;const i=r({site_id:a.siteId,product_id:a.productId,item_id:a.itemId,tracking:!0,product_details:!0,env:D.getLab(a)},m.mapPropsToQuery({componentProps:a,paramsToMap:["pdp_filters"]}));u([]),c.forEach(((e,a)=>{D.fetchRecommendations(r(r({},i),{},{client:e})).then((r=>{setTimeout((()=>{u((t=>{s(!1),l({element:o.current});const c=[...t];return t.length>0&&n.current?m.TrackService.requestIgnored(e):c[a]=r,c}))}),t)})).catch((()=>{}))}))})({clients:a.clients})}),[a.productId]);const[p,b]=c.useState([]);return c.useEffect((()=>{if(d&&d.length>0){const e=d.filter((e=>{var a;return e&&e.attributes_list&&(null===(a=e.recommended_products)||void 0===a?void 0:a.length)>0}));if(!e||e.length<=0)return;const a=e.sort(((e,a)=>e.priority-a.priority));b(a)}}),[d]),{recommendations:p}};var g=function(){let{productId:e,recommendations:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[o,t]=c.useState([]),[r,n]=c.useState([]),{trackOnPrint:i}=m.useTrackOnPrint();return c.useEffect((()=>{n([]),t([])}),[e]),c.useEffect((()=>{a&&a.length>0&&a.forEach((e=>{const{client:a}=e;r.includes(a)||(i(e.tracking),n([...r,a]))}))}),[a]),{trackedOnViewClients:o,setTrackedOnViewClients:t,trackedOnPrintClients:r,setTrackedOnPrintClients:n}};const k=["productId","env","apiResponse","fetchDelay"];var y,I=e=>{const a=a=>{let{productId:o,env:m=null,apiResponse:l=null,fetchDelay:u=0}=a,p=n(a,k);const b=c.useRef(),{recommendations:_}=C({props:r({productId:o,env:m,apiResponse:l},p),componentRef:b,fetchDelay:u}),{IconFactory:v}=p,{trackedOnViewClients:w,setTrackedOnViewClients:f}=g({productId:o,recommendations:_}),h=c.useRef();return d.jsx("section",{ref:b,className:"".concat(s.namespaceComparator,"__wrapper-ref"),children:_.length>0&&d.jsxs(d.Fragment,{children:[t("h2",{className:"".concat(s.namespaceComparator,"__title")},void 0,_[0].title),1===_.length?t(e,{recommendations:_[0],productId:o,trackedOnViewClients:w,setTrackedOnViewClients:f,IconFactory:v}):t(i.Tabs,{},void 0,_.map((a=>t(i.Tab,{title:a.labels.tab,onClick:()=>{var e;(e=h)&&e.current&&(e.current.scrollLeft=0)}},a.priority.toString(),t(i.TabContent,{},void 0,d.jsx(e,{recommendations:a,productId:o,trackedOnViewClients:w,setTrackedOnViewClients:f,ref:h,IconFactory:v}))))))]})})};return a.displayName="\n  Comparator Container - ".concat(e.displayName||e.name||"WrappedComparator","\n  "),a};var T=e=>{let{products:a,labels:o}=e;const r="".concat(s.namespaceComparator,"__table");return t(u.TableHead,{},void 0,t(u.TableHeader,{scope:"column",className:"".concat(r,"__header")},void 0,y||(y=t("div",{}))),a.map(((e,a)=>t(u.TableHeader,{scope:"column",align:"center",className:"".concat(r,"__header")},e.id,0===a?d.jsxs(d.Fragment,{children:[t("div",{},void 0,t(p.Image,{className:"".concat(r,"__header__image"),src:e.img_url,alt:e.name}),t("p",{className:"".concat(r,"__header__title")},void 0,e.name)),t("span",{className:"".concat(r,"__header__link__text no-action")},void 0,o.this_product)]}):d.jsxs(d.Fragment,{children:[t("a",{href:e.permalink,className:"".concat(r,"__header__link")},void 0,t(p.Image,{className:"".concat(r,"__header__image"),src:e.img_url,alt:e.name}),t("p",{className:"".concat(r,"__header__title")},void 0,e.name)),t("a",{href:e.permalink,className:"".concat(r,"__header__link__text")},void 0,o.see_product)]})))))};const N="".concat(s.namespaceComparator,"__reviews");var O=e=>{let{amount:a,rating:o,IconFactory:r,stars:n}=e;const c=r("recommendations-star-empty","".concat(s.namespaceComparator,"__icon")),i=r("recommendations-star-half","".concat(s.namespaceComparator,"__icon")),m=r("recommendations-star-full","".concat(s.namespaceComparator,"__icon")),l=null!=n?n:o,u=Math.floor(l),p=Math.ceil(l-u),b=5-p-u,_=[];for(let e=0;e<u;e+=1)_.push(m);for(let e=0;e<p;e+=1)_.push(i);for(let e=0;e<b;e+=1)_.push(c);return t("div",{className:"".concat(N,"__label")},void 0,o?d.jsxs(d.Fragment,{children:[t("span",{className:"".concat(N,"__rating")},void 0,o.toFixed(1)),t("span",{className:"".concat(N,"__ratings")},void 0,_),t("span",{className:"".concat(N,"__amount")},void 0,"(","".concat(a),")")]}):t("span",{className:"".concat(N,"__no-rating")},void 0,"_"))};const M="".concat(s.namespaceComparator,"__seller-info");var R=e=>{let{sellerInfo:a}=e;return a.link?t("a",{href:a.link,title:a.name,className:M},void 0,a.name):t("span",{},void 0,a.name)};const F="".concat(s.namespaceComparator,"__price");var V=e=>{let{thousandSeparator:a,decimalSeparator:o,currencySymbol:r,value:n,isMobile:c}=e;const i=m.getFormattedIntFraction(n,a),s=m.getFormattedDecimalFraction(n);return t(b,{value:{fraction:i,cents:s},symbol:r,className:F,size:c?12:14,centsType:","===o?"comma":"dot"})};var x=e=>{let{attribute:a,component:o,isMobile:r,IconFactory:n}=e;if(void 0===o)return t("div",{className:"".concat(s.namespaceComparator,"--no-attr")});switch(a){case"REVIEWS":return o.rating_average>5&&(o.rating_average=5),t(O,{rating:o.rating_average,amount:o.count_reviews,IconFactory:n,stars:o.stars});case"SELLER":return t(R,{sellerInfo:o});case"PRICE":return t(V,{decimalSeparator:o.decimal_separator,thousandSeparator:o.thousand_separator,currencySymbol:o.currency_symbol,value:o.value,isMobile:r});default:return t("span",{},void 0,o.text)}};var S=e=>{let{products:a,attributes:o,isMobile:r,IconFactory:n}=e;const c="".concat(s.namespaceComparator,"__table");return t(u.TableBody,{},void 0,o.map((e=>t(u.TableRow,{},e.id,t(u.TableHeader,{scope:"row",className:"".concat(c,"__body__column")},e.id,e.title),a.map((a=>t(u.TableData,{className:"".concat(c,"__body__column")},a.id,t(x,{attribute:e.id,component:a.product_details[e.id],isMobile:r,IconFactory:n}))))))))};var E=e=>{let{recommendations:a,isMobile:o=!1,IconFactory:r}=e;const n="".concat(s.namespaceComparator,"__table"),c={products:a.recommended_products,attributes:a.attributes_list,labels:a.labels,isMobile:o,IconFactory:r};return a&&a.attributes_list&&a.recommended_products?t(u.Table,{className:n},void 0,T(c),S(c)):null};var L=e=>{let{recommendations:a,trackedOnViewClients:o=[],setTrackedOnViewClients:r=null,IconFactory:n}=e;const i=c.useRef();return m.useTrackOnView({componentRef:i,trackData:a.tracking,client:a.client,trackedOnViewClients:o,setTrackedOnViewClients:r,shouldTrackOnView:!0}),d.jsx("section",{id:a.client,ref:i,className:s.namespaceComparator,children:t(E,{recommendations:a,IconFactory:n})})};var A=e=>{const a=c.forwardRef(((a,o)=>{let{recommendations:r,IconFactory:n}=a;const[i,l]=c.useState(!0),u="".concat(s.namespaceComparator,"__table"),p=2===r.recommended_products.length;return d.jsxs(d.Fragment,{children:[t("div",{className:_("".concat(u,"__shadow-container"),i&&"collapsed")},void 0,d.jsx("div",{className:_("".concat(u,"__container"),p&&"two-cols"),ref:o,children:t(e,{recommendations:r,IconFactory:n,isMobile:!0})})),i&&t(v.Button,{className:"table-button",hierarchy:"transparent",size:"small",onClick:()=>{l(!1),m.TrackService.clickMore(r.tracking)}},void 0,t(v.ButtonText,{},void 0,r.labels.more_details),n("recommendations-chevron","".concat(s.namespaceComparator,"__icon chevron-down")))]})}));return a.displayName="\n  Collapsible Table - ".concat(e.displayName||e.name||"WrappedTable","\n  "),a};const j=A(E);var P=c.forwardRef(((e,a)=>{let{recommendations:o,trackedOnViewClients:t=[],setTrackedOnViewClients:r=null,IconFactory:n}=e;const i=c.useRef();return m.useTrackOnView({componentRef:i,trackData:o.tracking,client:o.client,trackedOnViewClients:t,setTrackedOnViewClients:r,shouldTrackOnView:!0}),d.jsx("section",{id:o.client,ref:i,className:s.namespaceComparator,children:d.jsx(j,{recommendations:o,ref:a,IconFactory:n})})}));const H=I(L),B=I(P);a.RecommendationsComparatorDesktop=H,a.RecommendationsComparatorMobile=B},22705:(e,a,o)=>{e.exports=o(68571)},26910:(e,a,o)=>{"use strict";var t=o(46518),r=o(79504),n=o(79306),c=o(48981),i=o(26198),s=o(84606),m=o(655),l=o(79039),d=o(74488),u=o(34598),p=o(13709),b=o(13763),_=o(39519),v=o(3607),w=[],f=r(w.sort),h=r(w.push),D=l((function(){w.sort(void 0)})),C=l((function(){w.sort(null)})),g=u("sort"),k=!l((function(){if(_)return _<70;if(!(p&&p>3)){if(b)return!0;if(v)return v<603;var e,a,o,t,r="";for(e=65;e<76;e++){switch(a=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(t=0;t<47;t++)w.push({k:a+t,v:o})}for(w.sort((function(e,a){return a.v-e.v})),t=0;t<w.length;t++)a=w[t].k.charAt(0),r.charAt(r.length-1)!==a&&(r+=a);return"DGBEFHACIJK"!==r}}));t({target:"Array",proto:!0,forced:D||!C||!g||!k},{sort:function(e){void 0!==e&&n(e);var a=c(this);if(k)return void 0===e?f(a):f(a,e);var o,t,r=[],l=i(a);for(t=0;t<l;t++)t in a&&h(r,a[t]);for(d(r,function(e){return function(a,o){return void 0===o?-1:void 0===a?1:void 0!==e?+e(a,o)||0:m(a)>m(o)?1:-1}}(e)),o=i(r),t=0;t<o;)a[t]=r[t++];for(;t<l;)s(a,t++);return a}})}}]);
//# sourceMappingURL=22705.0cea489a.js.map